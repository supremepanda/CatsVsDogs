{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/mp-school/Desktop/CatsVsDogs/react/src/containers/UploadArea/UploadArea.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { makeSelectImageType } from \"../UploadArea/selectors\";\nimport uploadAreaActions from \"./actions\";\nimport * as S from \"./style\";\n\nfunction UploadArea() {\n  _s();\n\n  const imageType = useSelector(makeSelectImageType);\n  const inputRef = useRef(null);\n  const previewRef = useRef(null);\n  const previewWrapperRef = useRef(null);\n  const formRef = useRef(null);\n  const [isSet, setIsSet] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleUploadClick = () => {\n    inputRef.current.click();\n    setIsSet(false);\n    previewRef.current.src = null;\n    formRef.current.style.marginLeft = \"280px\";\n    previewWrapperRef.current.style.visibility = \"hidden\";\n    previewWrapperRef.current.style.opacity = 0;\n  };\n\n  const handleFileUpload = event => {\n    const {\n      files\n    } = event.target;\n\n    if (files && files[0]) {\n      const fileReader = new FileReader();\n\n      fileReader.onload = event => {\n        handlePreview(event.target.result);\n        dispatch(uploadAreaActions.uploadImage(files[0]));\n      };\n\n      fileReader.readAsDataURL(files[0]);\n    }\n  };\n\n  const handlePreview = image => {\n    formRef.current.style.marginLeft = 0;\n    previewWrapperRef.current.style.visibility = \"visible\";\n    previewWrapperRef.current.style.opacity = 1;\n    previewRef.current.src = image;\n    setIsSet(true);\n    setTimeout(() => {\n      formRef.current.reset();\n    }, 100);\n  };\n\n  return /*#__PURE__*/_jsxDEV(S.UploadArea, {\n    children: [/*#__PURE__*/_jsxDEV(S.UploadForm, {\n      ref: formRef,\n      onSubmit: e => e.preventDefault(),\n      children: [/*#__PURE__*/_jsxDEV(S.Upload, {\n        ref: inputRef,\n        type: \"file\",\n        onChange: handleFileUpload,\n        accept: \"image/*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(S.Button, {\n        onClick: handleUploadClick,\n        children: \"Click to Upload Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(S.PreviewWrapper, {\n      ref: previewWrapperRef,\n      children: [/*#__PURE__*/_jsxDEV(S.Preview, {\n        ref: previewRef,\n        alt: \"preview\",\n        isSet: isSet\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this), (imageType === null || imageType === void 0 ? void 0 : imageType.toString()) ? /*#__PURE__*/_jsxDEV(S.ResultWrapper, {\n        children: /*#__PURE__*/_jsxDEV(S.Result, {\n          children: [\"It's a \", (imageType === null || imageType === void 0 ? void 0 : imageType.toString()) === \"0\" ? \"Cat\" : \"Dog\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(S.ResultWrapper, {\n        children: /*#__PURE__*/_jsxDEV(S.Result, {\n          children: /*#__PURE__*/_jsxDEV(S.Loading, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 3\n  }, this);\n}\n\n_s(UploadArea, \"b7oH82xZBbjrO4a7qcqNLgCl408=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = UploadArea;\nexport default UploadArea;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadArea\");","map":{"version":3,"sources":["/Users/mp-school/Desktop/CatsVsDogs/react/src/containers/UploadArea/UploadArea.js"],"names":["React","useState","useRef","useDispatch","useSelector","makeSelectImageType","uploadAreaActions","S","UploadArea","imageType","inputRef","previewRef","previewWrapperRef","formRef","isSet","setIsSet","dispatch","handleUploadClick","current","click","src","style","marginLeft","visibility","opacity","handleFileUpload","event","files","target","fileReader","FileReader","onload","handlePreview","result","uploadImage","readAsDataURL","image","setTimeout","reset","e","preventDefault","toString"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nimport { makeSelectImageType } from \"../UploadArea/selectors\"\n\nimport uploadAreaActions from \"./actions\"\nimport * as S from \"./style\"\n\nfunction UploadArea() {\n\tconst imageType = useSelector(makeSelectImageType)\n\tconst inputRef = useRef(null)\n\tconst previewRef = useRef(null)\n\tconst previewWrapperRef = useRef(null)\n\tconst formRef = useRef(null)\n\tconst [isSet, setIsSet] = useState(false)\n\n\tconst dispatch = useDispatch()\n\n\tconst handleUploadClick = () => {\n\t\tinputRef.current.click()\n\t\tsetIsSet(false)\n\t\t\n\t\tpreviewRef.current.src = null;\n\t\tformRef.current.style.marginLeft = \"280px\"\n\t\tpreviewWrapperRef.current.style.visibility = \"hidden\"\n\t\tpreviewWrapperRef.current.style.opacity = 0\n\t}\n\t\n\tconst handleFileUpload = (event) => {\n\t\tconst { files } = event.target\n\n\t\tif (files && files[0]) {\n\t\t\tconst fileReader = new FileReader()\n\n\t\t\tfileReader.onload = event => {\n\t\t\t\thandlePreview(event.target.result)\n\t\t\t\tdispatch(uploadAreaActions.uploadImage(files[0]))\n\t\t\t}\n\t\t\t\n\t\t\tfileReader.readAsDataURL(files[0])\n\t\t}\n\t}\n\n\tconst handlePreview = (image) => {\n\t\tformRef.current.style.marginLeft = 0\n\t\tpreviewWrapperRef.current.style.visibility = \"visible\"\n\t\tpreviewWrapperRef.current.style.opacity = 1\n\t\tpreviewRef.current.src = image;\n\t\tsetIsSet(true)\n\n\t\tsetTimeout(() => {\n\t\t\tformRef.current.reset()\n\t\t}, 100)\n\t}\n\n\treturn (\n\t\t<S.UploadArea>\n\t\t\t<S.UploadForm ref={formRef} onSubmit={(e) => e.preventDefault()}>\n\t\t\t\t<S.Upload\n\t\t\t\t\tref={inputRef}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tonChange={handleFileUpload}\n\t\t\t\t\taccept=\"image/*\" />\n\t\t\t\t<S.Button onClick={handleUploadClick}>Click to Upload Image</S.Button>\n\t\t\t</S.UploadForm>\n\t\t\t<S.PreviewWrapper ref={previewWrapperRef}>\n\t\t\t\t<S.Preview ref={previewRef} alt=\"preview\" isSet={isSet} />\n\t\t\t\t{imageType?.toString() ? \n\t\t\t\t\t<S.ResultWrapper>\n\t\t\t\t\t\t<S.Result>It's a {imageType?.toString() === \"0\" ? \"Cat\" : \"Dog\"}</S.Result>\n\t\t\t\t\t</S.ResultWrapper>\n\t\t\t\t\t:\n\t\t\t\t\t<S.ResultWrapper>\n\t\t\t\t\t\t<S.Result><S.Loading /></S.Result>\n\t\t\t\t\t</S.ResultWrapper>\n\t\t\t\t}\n\t\t\t</S.PreviewWrapper>\n\t\t</S.UploadArea>\n\t)\n}\n\nexport default UploadArea;"]},"metadata":{},"sourceType":"module"}